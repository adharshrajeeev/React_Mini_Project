{"ast":null,"code":"var _jsxFileName = \"D:\\\\BROTOTYPE\\\\WEEK-15 REACT\\\\MERN\\\\client\\\\src\\\\Components\\\\UserComponets\\\\Home\\\\Header.js\";\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Header.css';\nimport axios from '../../../utils/axios';\nimport Swal from 'sweetalert2';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { change } from '../../../Redux/usernameReducer';\nimport { changeImage } from '../../../Redux/userimageReducer';\nimport { verifyUserToken } from '../../../utils/Constants';\nfunction Header() {\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n  var handleLogoutUser = function handleLogoutUser(e) {\n    e.preventDefault();\n    Swal.fire({\n      title: 'Logout?',\n      text: \"Do you want to Logout?\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Logout'\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        localStorage.clear();\n        dispatch({\n          type: 'logout'\n        });\n        navigate('/');\n      }\n    });\n  };\n  useEffect(function () {\n    var Token = localStorage.getItem('token');\n    if (!Token) {\n      navigate('/');\n    } else {\n      var body = JSON.stringify({\n        Token: Token\n      });\n      axios.post(verifyUserToken, body, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (res) {\n        // if (res.data.token) {\n\n        dispatch(change(res.data.user.userName));\n        dispatch(changeImage(res.data.user.image));\n        // } else {\n        //     localStorage.removeItem('token');\n        // }\n      });\n    }\n  }, [dispatch]);\n  var username = useSelector(function (state) {\n    return state.username;\n  });\n  var userImage = useSelector(function (state) {\n    return state.userImage;\n  });\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"navbar navbar-expand-lg  \",\n    style: {\n      background: '#0d1116'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    class: \"navbar-brand\",\n    href: \"/home\",\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: userImage,\n    className: \"userLogo\",\n    style: {\n      width: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbarSupportedContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"navbar-nav me-auto mb-2 mb-lg-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    class: \"nav-link active\",\n    \"aria-current\": \"page\",\n    href: \"/Profile\",\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }, \"My Profile\"))), /*#__PURE__*/React.createElement(\"form\", {\n    class: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"navUserName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, username), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"userLogoutButton\",\n    onClick: handleLogoutUser,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"logout\")))));\n}\nexport default Header;","map":{"version":3,"names":["React","useEffect","useNavigate","axios","Swal","useDispatch","useSelector","change","changeImage","verifyUserToken","Header","navigate","dispatch","handleLogoutUser","e","preventDefault","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","localStorage","clear","type","Token","getItem","body","JSON","stringify","post","headers","res","data","user","userName","image","username","state","userImage","background","color","width"],"sources":["D:/BROTOTYPE/WEEK-15 REACT/MERN/client/src/Components/UserComponets/Home/Header.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport './Header.css';\r\nimport axios from '../../../utils/axios'\r\nimport Swal from 'sweetalert2';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { change } from '../../../Redux/usernameReducer';\r\nimport { changeImage } from '../../../Redux/userimageReducer';\r\nimport { verifyUserToken } from '../../../utils/Constants';\r\n\r\n\r\n\r\nfunction Header() {\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch=useDispatch();\r\n    const handleLogoutUser = (e) => {\r\n        e.preventDefault();\r\n        Swal.fire({\r\n            title: 'Logout?',\r\n            text: \"Do you want to Logout?\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Logout'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                localStorage.clear();\r\n                dispatch({ type: 'logout' })\r\n                navigate('/')\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        const Token = localStorage.getItem('token');\r\n\r\n        if (!Token) {\r\n            navigate('/');\r\n\r\n        } else {\r\n            const body = JSON.stringify({ Token });\r\n            axios.post(verifyUserToken, body, { headers: { \"Content-Type\": \"application/json\" } }).then((res) => {\r\n                // if (res.data.token) {\r\n                   \r\n                    dispatch(change(res.data.user.userName))\r\n                    dispatch(changeImage(res.data.user.image))\r\n                // } else {\r\n                //     localStorage.removeItem('token');\r\n                // }\r\n            })\r\n        }\r\n    },  [dispatch]);\r\n\r\n    const username = useSelector((state) => state.username)\r\n    const userImage = useSelector((state) => {\r\n        return state.userImage;\r\n\r\n    })\r\n    return (\r\n        <nav class=\"navbar navbar-expand-lg  \" style={{background:'#0d1116'}} >\r\n            <div class=\"container-fluid\">\r\n\r\n                <a class=\"navbar-brand\" href=\"/home\" style={{color:'black'}}>\r\n                   <img src={userImage} className='userLogo' style={{width:'30px'}}/>\r\n                </a>\r\n                <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                    <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                        <li class=\"nav-item\">\r\n                            <a class=\"nav-link active\" aria-current=\"page\" href=\"/Profile\" style={{color:'black'}}>My Profile</a>\r\n                        </li>\r\n                    </ul>\r\n                    <form class=\"d-flex\">\r\n                        <span className='navUserName'>{username}</span>\r\n                        <button className='userLogoutButton' onClick={handleLogoutUser} type=\"submit\">logout</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Header"],"mappings":"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"},"metadata":{},"sourceType":"module"}