{"ast":null,"code":"import _slicedToArray from \"D:\\\\BROTOTYPE\\\\WEEK-15 REACT\\\\MERN\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\BROTOTYPE\\\\WEEK-15 REACT\\\\MERN\\\\client\\\\src\\\\Components\\\\AdminComponents\\\\Users\\\\Usermanagement.js\";\nimport React, { useEffect, useState } from 'react';\nimport Footer from '../Footer/Footer';\nimport AdminHeader from '../Header/AdminHeader';\nimport axios from '../../../utils/axios';\nimport './users.css';\nimport { adminDeleteUser, admingetAllusers, adminSearchUser } from '../../../utils/Constants';\nimport { useNavigate } from 'react-router-dom';\nimport './userManagement.css';\nimport Swal from 'sweetalert2';\nfunction Usermanagement() {\n  var _this = this;\n  var navigate = useNavigate();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    users = _useState2[0],\n    setUsers = _useState2[1];\n  useEffect(function (key) {\n    getUserLists();\n  }, []);\n  var getUserLists = function getUserLists() {\n    axios.get(admingetAllusers).then(function (response) {\n      setUsers(response.data.users);\n    }).catch(function (err) {\n      console.log(\"oops user catch client\");\n    });\n  };\n  var userSearch = function userSearch(e) {\n    var userr = e.target.value;\n    console.log(userr);\n    if (!userr) {\n      getUserLists();\n    } else {\n      axios.get(\"\".concat(adminSearchUser, \"/\").concat(userr)).then(function (res) {\n        setUsers(res.data.users);\n      });\n    }\n  };\n  var deleteUser = function deleteUser(id) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(function (result) {\n      if (result.isConfirmed) {\n        axios.delete(\"\".concat(adminDeleteUser, \"/\").concat(id)).then(function (res) {\n          getUserLists();\n        });\n        Swal.fire('Deleted!', 'User has been deleted.', 'success');\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AdminHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    class: \"form-control mb-3 w-25 searchadmin\",\n    onChange: userSearch,\n    name: \"query\",\n    type: \"search\",\n    placeholder: \"Search\",\n    \"aria-label\": \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \" addButtonAdmin\",\n    onClick: function onClick() {\n      return navigate('/adminAdd');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"add\"), /*#__PURE__*/React.createElement(\"table\", {\n    id: \"customers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    class: \"w-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"No\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"User Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Emaiil\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Action\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, \"Action\")), users.map(function (obj, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, obj.userName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, obj.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"editt\",\n      onClick: function onClick() {\n        return navigate(\"/updateUser/\".concat(obj._id));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, \"Edit\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"deletee\",\n      onClick: function onClick() {\n        return deleteUser(obj._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, \"Delete\")));\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }));\n}\nexport default Usermanagement;","map":{"version":3,"names":["React","useEffect","useState","Footer","AdminHeader","axios","adminDeleteUser","admingetAllusers","adminSearchUser","useNavigate","Swal","Usermanagement","navigate","users","setUsers","key","getUserLists","get","then","response","data","catch","err","console","log","userSearch","e","userr","target","value","res","deleteUser","id","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","delete","map","obj","index","userName","email","_id"],"sources":["D:/BROTOTYPE/WEEK-15 REACT/MERN/client/src/Components/AdminComponents/Users/Usermanagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Footer from '../Footer/Footer'\r\nimport AdminHeader from '../Header/AdminHeader'\r\nimport axios from '../../../utils/axios'\r\nimport './users.css'\r\nimport { adminDeleteUser, admingetAllusers, adminSearchUser } from '../../../utils/Constants'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './userManagement.css'\r\nimport Swal from 'sweetalert2'\r\n\r\nfunction Usermanagement() {\r\n\r\n    const navigate=useNavigate()\r\n    const [users,setUsers]=useState([])\r\n\r\n    useEffect((key)=>{\r\n        getUserLists();\r\n\r\n    },[])\r\n\r\n    const getUserLists = ()=>{\r\n            axios.get(admingetAllusers).then((response)=>{\r\n                setUsers(response.data.users)\r\n            }).catch((err)=>{\r\n                console.log(\"oops user catch client\");\r\n\r\n            })\r\n    }\r\n\r\n\r\n    const userSearch=(e)=>{\r\n        let userr=e.target.value;\r\n        console.log(userr);\r\n        if(!userr){\r\n            getUserLists();\r\n        }else{\r\n            axios.get(`${adminSearchUser}/${userr}`).then((res)=>{\r\n                setUsers(res.data.users)\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    const deleteUser=(id)=>{\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert this!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, delete it!'\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                axios.delete(`${adminDeleteUser}/${id}`).then((res)=>{\r\n                    getUserLists();\r\n                    \r\n                })\r\n              Swal.fire(\r\n                'Deleted!',\r\n                'User has been deleted.',\r\n                'success'\r\n              )\r\n            }\r\n          })\r\n    }\r\n\r\n\r\n    return (\r\n        <div >\r\n            <AdminHeader />\r\n            <br/>\r\n            \r\n            <br/>\r\n            <input class=\"form-control mb-3 w-25 searchadmin\" onChange={userSearch} name=\"query\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\"/>\r\n                <button class=\" addButtonAdmin\" onClick={()=>navigate('/adminAdd')} >add</button>\r\n           \r\n            <table id=\"customers\">\r\n                <tr>\r\n                    <th class=\"w-5\">No</th>\r\n                    <th>User Name</th>\r\n                    <th>Emaiil</th>\r\n                    <th>Action</th>\r\n                    <th>Action</th>\r\n                </tr>\r\n               \r\n                  {  users.map((obj,index)=>\r\n                   <tr>\r\n                    <td>{index+1}</td>\r\n                    <td>{obj.userName}</td>\r\n                    <td>{obj.email}</td>\r\n                    <td>\r\n                        <button className='editt' onClick={()=>navigate(`/updateUser/${obj._id}`)} >Edit</button>\r\n                    </td>\r\n                    <td> \r\n                        <button className='deletee' onClick={()=>deleteUser(obj._id)}>Delete</button>\r\n                    </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                \r\n\r\n            </table>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Usermanagement"],"mappings":"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"},"metadata":{},"sourceType":"module"}